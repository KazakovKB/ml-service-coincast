{% extends "layout.html" %}
{% block title %}Transactions Â· ML-Service-Coincast{% endblock %}

{% block content %}
<h2 class="text-2xl font-semibold mb-6">Transaction history</h2>

{% if not txs %}
  <p class="text-gray-600">No transactions yet.</p>
{% else %}
  <div class="overflow-x-auto bg-white shadow rounded-lg">
    <table class="min-w-full text-sm">
      <thead class="bg-gray-50 text-left">
        <tr class="border-b">
          <th class="px-4 py-3 font-medium text-gray-600">Date&nbsp;/&nbsp;Time</th>
          <th class="px-4 py-3 font-medium text-gray-600">Type</th>
          <th class="px-4 py-3 font-medium text-gray-600 text-right">Amount</th>
          <th class="px-4 py-3 font-medium text-gray-600 text-right">Balance&nbsp;after</th>
          <th class="px-4 py-3 font-medium text-gray-600">Reason</th>
        </tr>
      </thead>
      <tbody>
        {% for t in txs %}
          <tr class="border-b hover:bg-gray-50">
            <td class="px-4 py-3 whitespace-nowrap">{{ t.created_at[:16]|replace("T"," ") }}</td>
            <td class="px-4 py-3">{{ t.tx_type }}</td>
            <td class="px-4 py-3 text-right">
              {% if t.amount > 0 %}
                <span class="text-green-600 font-semibold">+{{ t.amount }}</span>
              {% else %}
                <span class="text-red-600">{{ t.amount }}</span>
              {% endif %}
            </td>
            <td class="px-4 py-3 text-right">{{ t.balance_after }}</td>
            <td class="px-4 py-3">{{ t.reason }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endif %}
{% endblock %}